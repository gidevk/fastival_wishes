<!DOCTYPE html>
<html lang="hi">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>‡§∞‡§ï‡•ç‡§∑‡§æ‡§¨‡§Ç‡§ß‡§® 2025 ‡§∂‡•Å‡§≠‡§ï‡§æ‡§Æ‡§®‡§æ‡§è‡§Ç</title>
  <style>
    * {
      box-sizing: border-box;
    }
    body {
      font-family: Arial, sans-serif;
      text-align: center;
      background: #ffebee;
      padding: 20px;
      margin: 0;
      position: relative;
      overflow-x: hidden;
    }
    body::before {
      content: "";
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background-image: 
        radial-gradient(circle at 20% 30%, rgba(255, 105, 180, 0.1) 0%, transparent 20%),
        radial-gradient(circle at 80% 70%, rgba(255, 215, 0, 0.1) 0%, transparent 20%),
        radial-gradient(circle at 40% 80%, rgba(255, 192, 203, 0.1) 0%, transparent 20%);
      z-index: -1;
    }
    .container {
      width: 100%;
      max-width: 400px;
      margin: auto;
      background: rgba(255, 255, 255, 0.9);
      border-radius: 10px;
      box-shadow: 0 4px 12px rgba(0,0,0,0.15);
      padding: 20px;
      margin-bottom: 20px;
      position: relative;
      overflow: hidden;
    }
    .container::after {
      content: "üå∏";
      position: absolute;
      font-size: 100px;
      opacity: 0.1;
      right: -20px;
      top: -20px;
      z-index: 0;
    }
    img {
      width: 100%;
      height: auto;
      border-radius: 10px;
      margin-bottom: 10px;
      position: relative;
      z-index: 1;
    }
    .image-options {
      display: flex;
      overflow-x: auto;
      gap: 10px;
      padding: 10px 0;
      margin: 15px 0;
    }
    .image-option {
      width: 80px;
      height: 80px;
      border-radius: 8px;
      border: 2px solid transparent;
      cursor: pointer;
      object-fit: cover;
      transition: all 0.3s ease;
    }
    .image-option:hover {
      transform: scale(1.05);
    }
    .image-option.selected {
      border-color: #f06292;
      box-shadow: 0 0 10px rgba(240, 98, 146, 0.5);
    }
    input[type="text"] {
      width: 100%;
      padding: 10px;
      margin-top: 15px;
      font-size: 16px;
      border-radius: 5px;
      border: 1px solid #ccc;
      background: rgba(255, 255, 255, 0.8);
    }
    button {
      margin-top: 20px;
      padding: 12px 20px;
      font-size: 16px;
      background-color: #f06292;
      color: white;
      border: none;
      border-radius: 8px;
      cursor: pointer;
      width: 100%;
      transition: all 0.3s ease;
      position: relative;
      overflow: hidden;
    }
    button:hover {
      background-color: #ec407a;
      transform: translateY(-2px);
      box-shadow: 0 4px 8px rgba(0,0,0,0.2);
    }
    button::after {
      content: "";
      position: absolute;
      top: -50%;
      left: -60%;
      width: 200%;
      height: 200%;
      background: rgba(255,255,255,0.2);
      transform: rotate(30deg);
      transition: all 0.3s ease;
    }
    button:hover::after {
      left: 100%;
    }
    .popup {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      width: 100vw;
      height: 100vh;
      background: rgba(0, 0, 0, 0.5);
      justify-content: center;
      align-items: center;
      z-index: 1000;
      padding: 20px;
    }
    .popup-content {
      background: white;
      padding: 20px;
      border-radius: 10px;
      text-align: center;
      width: 100%;
      max-width: 300px;
      position: relative;
      overflow: hidden;
    }
    .popup-content::before {
      content: "üíñ";
      position: absolute;
      font-size: 80px;
      opacity: 0.1;
      right: -10px;
      top: -10px;
      z-index: 0;
    }
    .popup a {
      display: block;
      margin: 10px 0;
      color: #f06292;
      text-decoration: none;
      font-weight: bold;
      position: relative;
      z-index: 1;
      transition: all 0.3s ease;
    }
    .popup a:hover {
      color: #ec407a;
      transform: translateX(5px);
    }
    .wish-card {
      background: #fff9f9;
      border-radius: 10px;
      padding: 15px;
      margin: 15px 0;
      box-shadow: 0 2px 8px rgba(0,0,0,0.1);
      position: relative;
      z-index: 1;
      border: 1px solid #ffcdd2;
    }
    .wish-card img {
      border: 2px solid #f06292;
    }
    .share-message {
      font-size: 14px;
      color: #5a3d2b;
      margin: 15px 0;
      padding: 12px;
      line-height: 1.4;
      background: linear-gradient(135deg, #fff5f5, #ffebee);
      border-radius: 8px;
      border-left: 4px solid #f06292;
      box-shadow: 0 2px 4px rgba(0,0,0,0.05);
      position: relative;
      overflow: hidden;
    }
    .share-message::before {
      content: "";
      position: absolute;
      top: -10px;
      right: -10px;
      width: 30px;
      height: 30px;
      background-color: #f8bbd0;
      border-radius: 50%;
      opacity: 0.3;
    }
    .share-message::after {
      content: "";
      position: absolute;
      bottom: -15px;
      left: -15px;
      width: 40px;
      height: 40px;
      background-color: #fce4ec;
      border-radius: 50%;
      opacity: 0.3;
    }
    @media (max-width: 480px) {
      h1 {
        font-size: 1.5rem;
      }
      button {
        font-size: 14px;
        padding: 10px;
      }
      .share-message {
        font-size: 13px;
        padding: 10px;
      }
    }
  </style>
</head>
<body>
  <nav style="background-color:#f06292; padding: 10px 0; text-align: center; box-shadow: 0 2px 10px rgba(0,0,0,0.1);">
    <a href="#" style="margin: 0 15px; color: white; text-decoration: none; font-weight: bold;">‡§∞‡§ï‡•ç‡§∑‡§æ‡§¨‡§Ç‡§ß‡§®</a>
    <a href="#" style="margin: 0 15px; color: white; text-decoration: none; font-weight: bold;">‡§¶‡§ø‡§µ‡§æ‡§≤‡•Ä</a>
    <a href="#" style="margin: 0 15px; color: white; text-decoration: none; font-weight: bold;">‡§π‡•ã‡§≤‡•Ä</a>
    <a href="#" style="margin: 0 15px; color: white; text-decoration: none; font-weight: bold;">‡§à‡§¶</a>
    <a href="#" style="margin: 0 15px; color: white; text-decoration: none; font-weight: bold;">‡§ï‡•ç‡§∞‡§ø‡§∏‡§Æ‡§∏</a>
  </nav>

  <div class="container">
    <h1>üå∏ ‡§∞‡§ï‡•ç‡§∑‡§æ‡§¨‡§Ç‡§ß‡§® 2025 ‡§ï‡•Ä ‡§∂‡•Å‡§≠‡§ï‡§æ‡§Æ‡§®‡§æ‡§è‡§Ç üå∏</h1>
    
    <!-- Main image display -->
    <img src="rakhi1.jpg" alt="‡§∞‡§ï‡•ç‡§∑‡§æ‡§¨‡§Ç‡§ß‡§® 2025" id="rakhiImage">
    
    <!-- Image selection options -->
    <div class="image-options">
      <img src="rakhi1.jpg" class="image-option selected" onclick="changeImage(this, 'rakhi1.jpg')">
      <img src="rakhi2.jpg" class="image-option" onclick="changeImage(this, 'rakhi2.jpg')">
      <img src="rakhi3.jpg" class="image-option" onclick="changeImage(this, 'rakhi3.jpg')">
      <img src="rakhi4.jpg" class="image-option" onclick="changeImage(this, 'rakhi4.jpg')">
      <img src="rakhi5.jpg" class="image-option" onclick="changeImage(this, 'rakhi5.jpg')">
    </div>
    
    <div class="share-message">
      ‡§è‡§ï ‡§õ‡•ã‡§ü‡•Ä-‡§∏‡•Ä, ‡§™‡•ç‡§Ø‡§æ‡§∞‡•Ä ‡§∂‡•Å‡§≠‡§ï‡§æ‡§Æ‡§®‡§æ ‡§∏‡§æ‡§ù‡§æ ‡§ï‡§∞‡•á‡§Ç ‡§î‡§∞ ‡§Ö‡§™‡§®‡•á ‡§™‡•ç‡§∞‡§ø‡§Ø‡§ú‡§®‡•ã‡§Ç ‡§ï‡•ã ‡§Ø‡§π ‡§Æ‡§π‡§∏‡•Ç‡§∏ ‡§ï‡§∞‡§æ‡§è‡§Å ‡§ï‡§ø ‡§Ü‡§™ ‡§â‡§®‡•ç‡§π‡•á‡§Ç ‡§¶‡§ø‡§≤ ‡§∏‡•á ‡§ö‡§æ‡§π‡§§‡•á ‡§π‡•à‡§Ç ‡§î‡§∞ ‡§π‡§Æ‡•á‡§∂‡§æ ‡§â‡§®‡§ï‡•Ä ‡§™‡§∞‡§µ‡§æ‡§π ‡§ï‡§∞‡§§‡•á ‡§π‡•à‡§Ç!
    </div>
    
    <input type="text" id="senderName" placeholder="‡§Ö‡§™‡§®‡§æ ‡§®‡§æ‡§Æ ‡§¶‡§∞‡•ç‡§ú ‡§ï‡§∞‡•á‡§Ç">
    <button onclick="openPopup()">whatsApp ‡§∂‡•á‡§Ø‡§∞ ‡§ï‡§∞‡•á‡§Ç</button>
  </div>

  <div class="popup" id="sharePopup">
    <div class="popup-content">
      <div class="wish-card">
        <img src="rakhi1.jpg" id="shareImage" alt="‡§∞‡§ï‡•ç‡§∑‡§æ‡§¨‡§Ç‡§ß‡§® ‡§∂‡•Å‡§≠‡§ï‡§æ‡§Æ‡§®‡§æ‡§è‡§Ç">
        <p id="wishText"></p>
      </div>
      <div class="share-message">
        ‡§á‡§® ‡§õ‡•ã‡§ü‡•Ä, ‡§™‡•ç‡§Ø‡§æ‡§∞‡•Ä ‡§∂‡•Å‡§≠‡§ï‡§æ‡§Æ‡§®‡§æ‡§ì‡§Ç ‡§ï‡•ã ‡§∏‡§æ‡§ù‡§æ ‡§ï‡§∞‡•á‡§Ç ‡§î‡§∞ ‡§â‡§®‡•ç‡§π‡•á‡§Ç ‡§¨‡§§‡§æ‡§è‡§Ç ‡§ï‡§ø ‡§Ü‡§™ ‡§â‡§®‡§ï‡•Ä ‡§™‡§∞‡§µ‡§æ‡§π ‡§ï‡§∞‡§§‡•á ‡§π‡•à‡§Ç!
      </div>
      <a href="#" target="_blank" id="whatsappLink">‡§µ‡•ç‡§π‡§æ‡§ü‡•ç‡§∏‡§è‡§™ ‡§™‡§∞ ‡§∂‡•á‡§Ø‡§∞ ‡§ï‡§∞‡•á‡§Ç</a>
      <a href="#" target="_blank" id="facebookLink">‡§´‡•á‡§∏‡§¨‡•Å‡§ï ‡§™‡§∞ ‡§∂‡•á‡§Ø‡§∞ ‡§ï‡§∞‡•á‡§Ç</a>
      <a href="#" target="_blank" id="telegramLink">‡§ü‡•á‡§≤‡•Ä‡§ó‡•ç‡§∞‡§æ‡§Æ ‡§™‡§∞ ‡§∂‡•á‡§Ø‡§∞ ‡§ï‡§∞‡•á‡§Ç</a>
      <a href="#" target="_blank" id="downloadLink">‡§á‡§Æ‡•á‡§ú ‡§°‡§æ‡§â‡§®‡§≤‡•ã‡§° ‡§ï‡§∞‡•á‡§Ç</a>
      <button onclick="closePopup()">‡§¨‡§Ç‡§¶ ‡§ï‡§∞‡•á‡§Ç</button>
    </div>
  </div>

  <script>
    let selectedImageUrl = 'rakhi1.jpg';
    const websiteUrl = 'https://fastival-wishes.vercel.app/';
    
    function changeImage(element, imageUrl) {
      document.getElementById('rakhiImage').src = imageUrl;
      selectedImageUrl = imageUrl;
      document.querySelectorAll('.image-option').forEach(img => {
        img.classList.remove('selected');
      });
      element.classList.add('selected');
    }
    
    function openPopup() {
      const name = document.getElementById("senderName").value.trim() || "‡§≠‡•à‡§Ø‡§æ";
      
      const wishes = [
        `üíñ ‡§∞‡§ï‡•ç‡§∑‡§æ‡§¨‡§Ç‡§ß‡§® ‡§ï‡•Ä ‡§π‡§æ‡§∞‡•ç‡§¶‡§ø‡§ï ‡§∂‡•Å‡§≠‡§ï‡§æ‡§Æ‡§®‡§æ‡§è‡§Ç, ‡§™‡•ç‡§Ø‡§æ‡§∞‡•Ä ‡§¨‡§π‡§®‡§æ! ‡§Ø‡§π ‡§§‡•ç‡§Ø‡•ã‡§π‡§æ‡§∞ ‡§§‡•Å‡§Æ‡•ç‡§π‡§æ‡§∞‡•á ‡§ú‡•Ä‡§µ‡§® ‡§Æ‡•á‡§Ç ‡§¢‡•á‡§∞‡•ã‡§Ç ‡§ñ‡•Å‡§∂‡§ø‡§Ø‡§æ‡§Å ‡§î‡§∞ ‡§∏‡§´‡§≤‡§§‡§æ ‡§≤‡§æ‡§è,\n\n‡§Ü‡§™‡§ï‡§æ ${name}\n\n‡§∂‡•Å‡§≠‡§ï‡§æ‡§Æ‡§®‡§æ‡§è‡§Ç ‡§≠‡•á‡§ú‡§®‡•á ‡§ï‡•á ‡§≤‡§ø‡§è ‡§ñ‡•ã‡§≤‡•á‡§Ç: ${websiteUrl}`,
        `üå∏ ‡§™‡•ç‡§Ø‡§æ‡§∞‡•Ä ‡§¨‡§π‡§®‡§æ, ‡§∞‡§ï‡•ç‡§∑‡§æ‡§¨‡§Ç‡§ß‡§® ‡§ï‡•Ä ‡§∂‡•Å‡§≠‡§ï‡§æ‡§Æ‡§®‡§æ‡§è‡§Ç! ‡§≠‡§ó‡§µ‡§æ‡§® ‡§§‡•Å‡§Æ‡•ç‡§π‡§æ‡§∞‡•á ‡§π‡§∞ ‡§∏‡§™‡§®‡•á ‡§ï‡•ã ‡§™‡•Ç‡§∞‡§æ ‡§ï‡§∞‡•á,\n\n‡§Ü‡§™‡§ï‡§æ ${name}\n\n‡§∂‡•Å‡§≠‡§ï‡§æ‡§Æ‡§®‡§æ‡§è‡§Ç ‡§≠‡•á‡§ú‡§®‡•á ‡§ï‡•á ‡§≤‡§ø‡§è ‡§ñ‡•ã‡§≤‡•á‡§Ç: ${websiteUrl}`,
        `üíù ‡§π‡•à‡§™‡•ç‡§™‡•Ä ‡§∞‡§ï‡•ç‡§∑‡§æ‡§¨‡§Ç‡§ß‡§®! ‡§¨‡§π‡§®‡§æ, ‡§§‡•Å‡§Æ ‡§Æ‡•á‡§∞‡•Ä ‡§¶‡•Å‡§®‡§ø‡§Ø‡§æ ‡§π‡•ã ‡§î‡§∞ ‡§á‡§∏ ‡§∞‡§ø‡§∂‡•ç‡§§‡•á ‡§ï‡•Ä ‡§Æ‡§ø‡§†‡§æ‡§∏ ‡§π‡§Æ‡•á‡§∂‡§æ ‡§¨‡§®‡•Ä ‡§∞‡§π‡•á,\n\n‡§Ü‡§™‡§ï‡§æ ${name}\n\n‡§∂‡•Å‡§≠‡§ï‡§æ‡§Æ‡§®‡§æ‡§è‡§Ç ‡§≠‡•á‡§ú‡§®‡•á ‡§ï‡•á ‡§≤‡§ø‡§è ‡§ñ‡•ã‡§≤‡•á‡§Ç: ${websiteUrl}`,
        `‚ú® ‡§∞‡§ï‡•ç‡§∑‡§æ‡§¨‡§Ç‡§ß‡§® ‡§Æ‡•Å‡§¨‡§æ‡§∞‡§ï ‡§π‡•ã! ‡§§‡•Å‡§Æ‡•ç‡§π‡§æ‡§∞‡•Ä ‡§π‡§Ç‡§∏‡•Ä ‡§Æ‡•á‡§∞‡•á ‡§¶‡§ø‡§≤ ‡§ï‡•Ä ‡§ß‡§°‡§º‡§ï‡§® ‡§π‡•à,\n\n‡§Ü‡§™‡§ï‡§æ ${name}\n\n‡§∂‡•Å‡§≠‡§ï‡§æ‡§Æ‡§®‡§æ‡§è‡§Ç ‡§≠‡•á‡§ú‡§®‡•á ‡§ï‡•á ‡§≤‡§ø‡§è ‡§ñ‡•ã‡§≤‡•á‡§Ç: ${websiteUrl}`,
        `üéÄ ‡§™‡•ç‡§Ø‡§æ‡§∞‡•Ä ‡§¨‡§π‡§®‡§æ, ‡§∞‡§æ‡§ñ‡•Ä ‡§ï‡•á ‡§á‡§∏ ‡§™‡§æ‡§µ‡§® ‡§Ö‡§µ‡§∏‡§∞ ‡§™‡§∞ ‡§Æ‡•à‡§Ç ‡§§‡•Å‡§Æ‡•ç‡§π‡§æ‡§∞‡•á ‡§≤‡§ø‡§è ‡§¢‡•á‡§∞‡•ã‡§Ç ‡§¶‡•Å‡§Ü‡§è‡§Å ‡§ï‡§∞‡§§‡§æ ‡§π‡•Ç‡§Å,\n\n‡§Ü‡§™‡§ï‡§æ ${name}\n\n‡§∂‡•Å‡§≠‡§ï‡§æ‡§Æ‡§®‡§æ‡§è‡§Ç ‡§≠‡•á‡§ú‡§®‡•á ‡§ï‡•á ‡§≤‡§ø‡§è ‡§ñ‡•ã‡§≤‡•á‡§Ç: ${websiteUrl}`,
        `üíñ ‡§∞‡§ï‡•ç‡§∑‡§æ‡§¨‡§Ç‡§ß‡§® ‡§ï‡•Ä ‡§¨‡§ß‡§æ‡§à! ‡§§‡•Å‡§Æ ‡§Æ‡•á‡§∞‡•á ‡§¨‡§ö‡§™‡§® ‡§ï‡•Ä ‡§∏‡§¨‡§∏‡•á ‡§™‡•ç‡§Ø‡§æ‡§∞‡•Ä ‡§Ø‡§æ‡§¶ ‡§π‡•ã,\n\n‡§Ü‡§™‡§ï‡§æ ${name}\n\n‡§∂‡•Å‡§≠‡§ï‡§æ‡§Æ‡§®‡§æ‡§è‡§Ç ‡§≠‡•á‡§ú‡§®‡•á ‡§ï‡•á ‡§≤‡§ø‡§è ‡§ñ‡•ã‡§≤‡•á‡§Ç: ${websiteUrl}`,
        `üå∫ Happy Raksha Bandhan, Dear Sister! ‡§§‡•Å‡§Æ‡•ç‡§π‡§æ‡§∞‡•á ‡§¨‡§ø‡§®‡§æ ‡§Æ‡•á‡§∞‡•Ä ‡§ú‡§ø‡§Ç‡§¶‡§ó‡•Ä ‡§Ö‡§ß‡•Ç‡§∞‡•Ä ‡§π‡•à,\n\n‡§Ü‡§™‡§ï‡§æ ${name}\n\n‡§∂‡•Å‡§≠‡§ï‡§æ‡§Æ‡§®‡§æ‡§è‡§Ç ‡§≠‡•á‡§ú‡§®‡•á ‡§ï‡•á ‡§≤‡§ø‡§è ‡§ñ‡•ã‡§≤‡•á‡§Ç: ${websiteUrl}`,
        `üéâ ‡§∞‡§ï‡•ç‡§∑‡§æ‡§¨‡§Ç‡§ß‡§® ‡§ï‡•Ä ‡§π‡§æ‡§∞‡•ç‡§¶‡§ø‡§ï ‡§∂‡•Å‡§≠‡§ï‡§æ‡§Æ‡§®‡§æ‡§è‡§Ç! ‡§§‡•Å‡§Æ ‡§Æ‡•á‡§∞‡•Ä ‡§∏‡§¨‡§∏‡•á ‡§Ö‡§ö‡•ç‡§õ‡•Ä ‡§¶‡•ã‡§∏‡•ç‡§§ ‡§î‡§∞ ‡§∏‡§æ‡§•‡•Ä ‡§π‡•ã,\n\n‡§Ü‡§™‡§ï‡§æ ${name}\n\n‡§∂‡•Å‡§≠‡§ï‡§æ‡§Æ‡§®‡§æ‡§è‡§Ç ‡§≠‡•á‡§ú‡§®‡•á ‡§ï‡•á ‡§≤‡§ø‡§è ‡§ñ‡•ã‡§≤‡•á‡§Ç: ${websiteUrl}`,
        `üåü ‡§∞‡§æ‡§ñ‡•Ä ‡§ï‡•á ‡§á‡§∏ ‡§™‡§∞‡•ç‡§µ ‡§™‡§∞ ‡§Æ‡•à‡§Ç ‡§µ‡§æ‡§¶‡§æ ‡§ï‡§∞‡§§‡§æ ‡§π‡•Ç‡§Å ‡§ï‡§ø ‡§π‡§Æ‡•á‡§∂‡§æ ‡§§‡•Å‡§Æ‡•ç‡§π‡§æ‡§∞‡•á ‡§∏‡§æ‡§• ‡§∞‡§π‡•Ç‡§Å‡§ó‡§æ,\n\n‡§Ü‡§™‡§ï‡§æ ${name}\n\n‡§∂‡•Å‡§≠‡§ï‡§æ‡§Æ‡§®‡§æ‡§è‡§Ç ‡§≠‡•á‡§ú‡§®‡•á ‡§ï‡•á ‡§≤‡§ø‡§è ‡§ñ‡•ã‡§≤‡•á‡§Ç: ${websiteUrl}`,
        `üíê ‡§∞‡§ï‡•ç‡§∑‡§æ‡§¨‡§Ç‡§ß‡§® ‡§ï‡•Ä ‡§¢‡•á‡§∞‡•ã‡§Ç ‡§¨‡§ß‡§æ‡§á‡§Ø‡§æ‡§Å! ‡§¨‡§π‡§®‡§æ, ‡§§‡•Å‡§Æ‡•ç‡§π‡§æ‡§∞‡•Ä ‡§Æ‡•Å‡§∏‡•ç‡§ï‡§æ‡§® ‡§Æ‡•á‡§∞‡•Ä ‡§∏‡§¨‡§∏‡•á ‡§¨‡§°‡§º‡•Ä ‡§¶‡•å‡§≤‡§§ ‡§π‡•à‡•§\n\n‡§Ü‡§™‡§ï‡§æ ${name}\n\n‡§∂‡•Å‡§≠‡§ï‡§æ‡§Æ‡§®‡§æ‡§è‡§Ç ‡§≠‡•á‡§ú‡§®‡•á ‡§ï‡•á ‡§≤‡§ø‡§è ‡§ñ‡•ã‡§≤‡•á‡§Ç: ${websiteUrl}`
      ];
      
      const randomIndex = Math.floor(Math.random() * wishes.length);
      const message = wishes[randomIndex];
      
      // Create a canvas to combine image and text
      const canvas = document.createElement('canvas');
      const ctx = canvas.getContext('2d');
      const img = new Image();
      img.crossOrigin = 'Anonymous';
      img.src = selectedImageUrl;
      
      img.onload = function() {
        canvas.width = img.width;
        canvas.height = img.height + 150; // Extra space for text
        
        // Draw image
        ctx.drawImage(img, 0, 0, img.width, img.height);
        
        // Add text background
        ctx.fillStyle = 'rgba(255, 255, 255, 0.8)';
        ctx.fillRect(0, img.height, img.width, 150);
        
        // Add text
        ctx.fillStyle = '#5a3d2b';
        ctx.font = '18px Arial';
        const lines = message.split('\n');
        let y = img.height + 30;
        
        lines.forEach(line => {
          ctx.fillText(line, 20, y);
          y += 25;
        });
        
        // Convert canvas to image URL
        const combinedImageUrl = canvas.toDataURL('image/jpeg');
        
        // Update share image preview
        document.getElementById("shareImage").src = combinedImageUrl;
        document.getElementById("wishText").innerText = message;
        
        // Update share links with the combined image
        const text = encodeURIComponent(message);
        const whatsappText = encodeURIComponent(`${message}\n${websiteUrl}`);
        
        document.getElementById("whatsappLink").href = `https://api.whatsapp.com/send?text=${whatsappText}`;
        document.getElementById("facebookLink").href = `https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(combinedImageUrl)}&quote=${text}`;
        document.getElementById("telegramLink").href = `https://t.me/share/url?url=${encodeURIComponent(combinedImageUrl)}&text=${text}`;
        document.getElementById("downloadLink").href = combinedImageUrl;
        document.getElementById("downloadLink").download = `raksha-bandhan-wish-${name}.jpg`;
        
        // Try native share API first
        if (navigator.share) {
          navigator.share({
            title: '‡§∞‡§ï‡•ç‡§∑‡§æ‡§¨‡§Ç‡§ß‡§® 2025 ‡§∂‡•Å‡§≠‡§ï‡§æ‡§Æ‡§®‡§æ‡§è‡§Ç',
            text: message,
            url: websiteUrl,
            files: [new File([combinedImageUrl], 'raksha-bandhan.jpg', { type: 'image/jpeg' })]
          }).catch(err => {
            console.log('Error sharing:', err);
            document.getElementById("sharePopup").style.display = "flex";
          });
        } else {
          document.getElementById("sharePopup").style.display = "flex";
        }
      };
    }

    function closePopup() {
      document.getElementById("sharePopup").style.display = "none";
    }
  </script>
</body>
</html>